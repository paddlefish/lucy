<HEAD>

<SCRIPT>
addImg("vo");
addImg("ho");
addImg("vs");
addImg("hs");
addImg("cake");
addImg("cell");
addImg("lucy");

function addImg(imageName) {
	img=new Image();
	img.src = imageName+".gif";
	eval(imageName+" = img;");
}

function cakeobj(x,y) {
	cakecell("c"+x+""+y);
	this.x = x;
	this.y = y;
}

function checkWin() {
	if ((theLucy.x == theCake.x)&&(theLucy.y == theCake.y)) {
		return true;
	}
	return false;
}

function up() {
	if (this.y > 1) {
		if (eval("r"+(this.y-1)+".c"+this.x+".bottom")==0) {
			opencell("c"+this.x+this.y);
			this.y = this.y-1;
			lucycell("c"+this.x+this.y);
		}
	}
	return checkWin();
}

function left() {
	if (this.x > 1) {
		if (eval("r"+this.y+".c"+this.x+".left")==0) {
			opencell("c"+this.x+this.y);
			this.x = this.x-1;
			lucycell("c"+this.x+this.y);
		}
	}
	return checkWin();
}

function down() {
	if (this.y < 5) {
		if (eval("r"+this.y+".c"+this.x+".bottom")==0) {
			opencell("c"+this.x+this.y);
			this.y = this.y+1;
			lucycell("c"+this.x+this.y);
		}
	}
	return checkWin();
}

function right() {
	if (this.x < 5) {
		if (eval("r"+this.y+".c"+(this.x+1)+".left")==0) {
			opencell("c"+this.x+this.y);
			this.x = this.x+1;
			lucycell("c"+this.x+this.y);
		}
	}
	return checkWin();
}
	
function lucyobj(x,y) {
	lucycell("c"+x+""+y);
	this.x = x;
	this.y = y;
	this.up = up;
	this.right = right;
	this.left = left;
	this.down = down;
}
function row(ypos, a,b,c,d,e) {
//	document.write("Adding row ",ypos,a,b,c,d,e );
	this.c1 = new cellobj(ypos,1,a);
	this.c2 = new cellobj(ypos,2,b);
	this.c3 = new cellobj(ypos,3,c);
	this.c4 = new cellobj(ypos,4,d);
	this.c5 = new cellobj(ypos,5,e);
	this.y = ypos;
}

function cellobj(ypos,xpos,walls) {
	this.left = 0;
	this.bottom = 0;
	if (walls == 'L') {
		this.left = 1;
		this.bottom = 1;
	}
	else if (walls == '|') {
		this.left = 1;
		this.bottom = 0;
	}
	else if (walls == '_') {
		this.left = 0;
		this.bottom = 1;
	}
	else {
		this.left = 0;
		this.bottom = 0;
	}
	this.y = ypos;
	this.x = xpos;
	if (this.bottom == 1) {
		hwall("h"+this.x+""+this.y);
	}
	else {
		hopen("h"+this.x+""+this.y);
	}
	if (this.left == 1) {
		vwall("v"+this.x+""+this.y);
	}
	else {
		vopen("v"+this.x+""+this.y);
	}
}

function hwall(imageName) {
	document[imageName].src=hs.src
}

function hopen(imageName) {
	document[imageName].src=ho.src
}

function vwall(imageName) {
	document[imageName].src=vs.src
}

function vopen(imageName) {
	document[imageName].src=vo.src
}

function cakecell(imageName) {
	document[imageName].src=cake.src
}

function opencell(imageName) {
	document[imageName].src=cell.src
}

function lucycell(imageName) {
	document[imageName].src=lucy.src
}

</SCRIPT>
</HEAD>

<BODY BACKGROUND="party.jpeg">
<CENTER>
<IMG SRC="hs.gif" BORDER=0><IMG SRC="hs.gif" BORDER=0><IMG SRC="hs.gif" BORDER=0><IMG SRC="hs.gif" BORDER=0><IMG SRC="hs.gif" BORDER=0><BR>
<IMG NAME="v11" SRC="vs.gif" BORDER=0><IMG NAME="c11" SRC="cell.gif" BORDER=0><IMG NAME="v21" SRC="vs.gif" BORDER=0><IMG NAME="c21" SRC="cell.gif" BORDER=0><IMG NAME="v31" SRC="vs.gif" BORDER=0><IMG NAME="c31" SRC="cell.gif" BORDER=0><IMG NAME="v41" SRC="vs.gif" BORDER=0><IMG NAME="c41" SRC="cell.gif" BORDER=0><IMG NAME="v51" SRC="vs.gif" BORDER=0><IMG NAME="c51" SRC="cell.gif" BORDER=0><IMG NAME="v61" SRC="vs.gif" BORDER=0

><BR><IMG NAME="h11" SRC="hs.gif" BORDER=0><IMG NAME="h21" SRC="hs.gif" BORDER=0><IMG NAME="h31" SRC="hs.gif" BORDER=0><IMG NAME="h41" SRC="hs.gif" BORDER=0><IMG NAME="h51" SRC="hs.gif" BORDER=0><BR>
<IMG NAME="v12" SRC="vs.gif" BORDER=0><IMG NAME="c12" SRC="cell.gif" BORDER=0><IMG NAME="v22" SRC="vs.gif" BORDER=0><IMG NAME="c22" SRC="cell.gif" BORDER=0><IMG NAME="v32" SRC="vs.gif" BORDER=0><IMG NAME="c32" SRC="cell.gif" BORDER=0><IMG NAME="v42" SRC="vs.gif" BORDER=0><IMG NAME="c42" SRC="cell.gif" BORDER=0><IMG NAME="v52" SRC="vs.gif" BORDER=0><IMG NAME="c52" SRC="cell.gif" BORDER=0><IMG NAME="v62" SRC="vs.gif" BORDER=0

><BR><IMG NAME="h12" SRC="hs.gif" BORDER=0><IMG NAME="h22" SRC="hs.gif" BORDER=0><IMG NAME="h32" SRC="hs.gif" BORDER=0><IMG NAME="h42" SRC="hs.gif" BORDER=0><IMG NAME="h52" SRC="hs.gif" BORDER=0><BR>
<IMG NAME="v13" SRC="vs.gif" BORDER=0><IMG NAME="c13" SRC="cell.gif" BORDER=0><IMG NAME="v23" SRC="vs.gif" BORDER=0><IMG NAME="c23" SRC="cell.gif" BORDER=0><IMG NAME="v33" SRC="vs.gif" BORDER=0><IMG NAME="c33" SRC="cell.gif" BORDER=0><IMG NAME="v43" SRC="vs.gif" BORDER=0><IMG NAME="c43" SRC="cell.gif" BORDER=0><IMG NAME="v53" SRC="vs.gif" BORDER=0><IMG NAME="c53" SRC="cell.gif" BORDER=0><IMG NAME="v63" SRC="vs.gif" BORDER=0

><BR><IMG NAME="h13" SRC="hs.gif" BORDER=0><IMG NAME="h23" SRC="hs.gif" BORDER=0><IMG NAME="h33" SRC="hs.gif" BORDER=0><IMG NAME="h43" SRC="hs.gif" BORDER=0><IMG NAME="h53" SRC="hs.gif" BORDER=0><BR>
<IMG NAME="v14" SRC="vs.gif" BORDER=0><IMG NAME="c14" SRC="cell.gif" BORDER=0><IMG NAME="v24" SRC="vs.gif" BORDER=0><IMG NAME="c24" SRC="cell.gif" BORDER=0><IMG NAME="v34" SRC="vs.gif" BORDER=0><IMG NAME="c34" SRC="cell.gif" BORDER=0><IMG NAME="v44" SRC="vs.gif" BORDER=0><IMG NAME="c44" SRC="cell.gif" BORDER=0><IMG NAME="v54" SRC="vs.gif" BORDER=0><IMG NAME="c54" SRC="cell.gif" BORDER=0><IMG NAME="v64" SRC="vs.gif" BORDER=0

><BR><IMG NAME="h14" SRC="hs.gif" BORDER=0><IMG NAME="h24" SRC="hs.gif" BORDER=0><IMG NAME="h34" SRC="hs.gif" BORDER=0><IMG NAME="h44" SRC="hs.gif" BORDER=0><IMG NAME="h54" SRC="hs.gif" BORDER=0><BR>
<IMG NAME="v15" SRC="vs.gif" BORDER=0><IMG NAME="c15" SRC="cell.gif" BORDER=0><IMG NAME="v25" SRC="vs.gif" BORDER=0><IMG NAME="c25" SRC="cell.gif" BORDER=0><IMG NAME="v35" SRC="vs.gif" BORDER=0><IMG NAME="c35" SRC="cell.gif" BORDER=0><IMG NAME="v45" SRC="vs.gif" BORDER=0><IMG NAME="c45" SRC="cell.gif" BORDER=0><IMG NAME="v55" SRC="vs.gif" BORDER=0><IMG NAME="c55" SRC="cell.gif" BORDER=0><IMG NAME="v65" SRC="vs.gif" BORDER=0

><BR><IMG NAME="h15" SRC="hs.gif" BORDER=0><IMG NAME="h25" SRC="hs.gif" BORDER=0><IMG NAME="h35" SRC="hs.gif" BORDER=0><IMG NAME="h45" SRC="hs.gif" BORDER=0><IMG NAME="h55" SRC="hs.gif" BORDER=0><BR>


<BR>
<TABLE>
<TR>
<TD width=50%><CENTER><A HREF="win.html" onClick="return theLucy.up();"><IMG BORDER=0 SRC="up.gif"></A><BR>
<A HREF="win.html" onClick="return theLucy.left();"><IMG BORDER=0 SRC="left.gif"></A>
<A HREF="win.html" onClick="return theLucy.right();"><IMG BORDER=0 SRC="right.gif"></A><BR>
<A HREF="win.html" onClick="return theLucy.down();"><IMG BORDER=0 SRC="down.gif"></A><BR>
</CENTER></TD>
<TD>
<FONT COLOR="navy" SIZE=6>Help Lucy get to the birthday cake!  Click on the arrows to make her move.  Press 'reload' to try a different maze.</FONT></TD></tR></TABLE>
<BR><CENTER>
<A HREF="/~rahn/lucy/"><IMG BORDER=0 SRC="/~rahn/lucy/Everypage/back.gif/"></A>
</CENTER>
<BR><BR><FONT SIZE=1>If this doesn't work, you probably need Netscape</FONT>
</CENTER>
<SCRIPT>

//document["h11"].src = hs.src;

whichMaze = Math.round(Math.random()*5+.5);
if (whichMaze == 1) {
	r1 = new row(1,"L","_"," ","_","_");
	r2 = new row(2,"|","_","_","|"," ");
	r3 = new row(3,"L","_","_","_","|");
	r4 = new row(4,"L"," ","_"," ","|");
	r5 = new row(5,"L"," ","L","_","_");
	theCake = new cakeobj(1,1);
	theLucy = new lucyobj(2,5);
}
if (whichMaze == 2) {
	r1 = new row(1,"|","_","_","_"," ");
	r2 = new row(2,"L"," ","_"," ","|");
	r3 = new row(3,"|","|","|","|","|");
	r4 = new row(4,"|","L","L","_","|");
	r5 = new row(5,"|","_","_","_","_");
	theCake = new cakeobj(3,3);
	theLucy = new lucyobj(1,5);
}
if (whichMaze == 3) {
	r1 = new row(1," "," ","|","_"," ");
	r2 = new row(2,"|","|","|","|","|");
	r3 = new row(3,"|","|","|","|"," ");
	r4 = new row(4,"|","L","_","L","|");
	r5 = new row(5,"L","_","_","_","L");
	theCake = new cakeobj(5,5);
	theLucy = new lucyobj(1,1);
}
if (whichMaze == 4) {
	r1 = new row(1,"|","_"," ","|"," ");
	r2 = new row(2,"L"," ","|","L","|");
	r3 = new row(3,"L"," ","|"," ","|");
	r4 = new row(4,"|","L","|","|","|");
	r5 = new row(5,"L","_","_","L","_");
	theCake = new cakeobj(1,3);
	theLucy = new lucyobj(5,3);
}
if (whichMaze == 5) {
	r1 = new row(1,"|","_","_","_","|");
	r2 = new row(2,"L"," ","_"," ","|");
	r3 = new row(3,"|","_","L","_","|");
	r4 = new row(4,"|","|"," ","|","|");
	r5 = new row(5,"L","_","L","_","_");
	theCake = new cakeobj(5,1);
	theLucy = new lucyobj(4,1);
}
</SCRIPT>

</BODY>
